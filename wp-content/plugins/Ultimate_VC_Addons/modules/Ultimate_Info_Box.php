<?php/** Add-on Name: Info Box* Add-on URI: https://www.brainstormforce.com*/if(!class_exists('AIO_Icons_Box')){	class AIO_Icons_Box	{		function __construct()		{			// Add shortcode for icon box			add_shortcode('bsf-info-box', array(&$this, 'icon_boxes' ) );			// Initialize the icon box component for Visual Composer			add_action('admin_init', array( &$this, 'icon_box_init' ) );		}		// Add shortcode for icon-box		function icon_boxes($atts, $content = null)		{			// enqueue js			wp_enqueue_script('ultimate-appear');			if(get_option('ultimate_row') == "enable"){				wp_enqueue_script('ultimate-row-bg',plugins_url('../assets/js/',__FILE__).'ultimate_bg.js');			}			wp_enqueue_script('ultimate-custom');			// enqueue css			wp_enqueue_style('ultimate-animate');			wp_enqueue_style('ultimate-style');			wp_enqueue_style('info-box-style',plugins_url('../assets/css/',__FILE__).'info-box.css');			$icon_type = $icon_img = $img_width = $icon = $icon_color = $icon_color_bg = $icon_size = $icon_style = $icon_border_style = $icon_border_radius = $icon_color_border = $icon_border_size = $icon_border_spacing = $el_class = $icon_animation = $title = $link = $hover_effect = $pos = $read_more= $read_text = $box_border_style = $box_border_width =$box_border_color = $box_bg_color ='';			$pos = $css_class = '';			extract(shortcode_atts(array(				'icon_type' => '',				'icon' => '',				'icon_img' => '',				'img_width' => '',				'icon_size' => '',								'icon_color' => '',				'icon_style' => '',				'icon_color_bg' => '',				'icon_color_border' => '',							'icon_border_style' => '',				'icon_border_size' => '',				'icon_border_radius' => '',				'icon_border_spacing' => '',				'icon_animation' => '',				'title'	  => '',				'link'	   => '',				'hover_effect' => '',				'pos'	    => '',				'box_border_style'=>'',				'box_border_width'=>'',				'box_border_color'=>'',				'box_bg_color'=>"",				'read_more'  => '',				'read_text'  => '',				'el_class'	  => '',				),$atts,'bsf-info-box'));			$html = $target = $suffix = $prefix = '';			$box_icon = do_shortcode('[just_icon icon_type="'.$icon_type.'" icon="'.$icon.'" icon_img="'.$icon_img.'" img_width="'.$img_width.'" icon_size="'.$icon_size.'" icon_color="'.$icon_color.'" icon_style="'.$icon_style.'" icon_color_bg="'.$icon_color_bg.'" icon_color_border="'.$icon_color_border.'"  icon_border_style="'.$icon_border_style.'" icon_border_size="'.$icon_border_size.'" icon_border_radius="'.$icon_border_radius.'" icon_border_spacing="'.$icon_border_spacing.'" icon_animation="'.$icon_animation.'"]');			$prefix .= '<div class="aio-icon-component '.$css_class.' '.$el_class.' '.$hover_effect.'">';			$suffix .= '</div> <!-- aio-icon-component -->';			$ex_class = $ic_class = '';			if($pos != ''){				$ex_class .= $pos.'-icon';				$ic_class = 'aio-icon-'.$pos;			}			$box_style='';			if($pos=='square_box'){				if($box_border_color!=''){					$box_style .="border-color:".$box_border_color.";";				}				if($box_border_style!=''){					$box_style .="border-style:".$box_border_style.";";				}				if($box_border_width!=''){					$box_style .="border-width:".$box_border_width."px;";				}				if($box_bg_color!=''){					$box_style .="background-color:".$box_bg_color.";";				}			}			$html .= '<div class="aio-icon-box '.$ex_class.'" style="'.$box_style.'">';			if($icon !== 'none')				$html .= '<div class="'.$ic_class.'">'.$box_icon.'</div>';			if($pos == "left")				$html .= '<div class="aio-ibd-block">';				if($title !== ''){					$html .= '<div class="aio-icon-header">';					$link_prefix = $link_sufix = '';					if($link !== 'none'){						if($read_more == 'title')						{							$href = vc_build_link($link);							if(isset($href['target'])){								$target = 'target="'.$href['target'].'"';							}							$link_prefix = '<a class="aio-icon-box-link" href="'.$href['url'].'" '.$target.'>';							$link_sufix = '</a>';						}					}					$html .= $link_prefix.'<h3 class="aio-icon-title">'.$title.'</h3>'.$link_sufix;					$html .= '</div> <!-- header -->';				}				if($content !== ''){					$html .= '<div class="aio-icon-description">';					$html .= do_shortcode($content);					if($link !== 'none'){						if($read_more == 'more')						{							$href = vc_build_link($link);							if(isset($href['target'])){								$target = 'target="'.$href['target'].'"';							}							$more_link = '<a class="aio-icon-read" href="'.$href['url'].'" '.$target.'>';							$more_link .= $read_text;							$more_link .= '&nbsp;&raquo;';							$more_link .= '</a>';							$html .= $more_link;						}					}					$html .= '</div> <!-- description -->';				}				if($pos == "left")					$html .= '</div> <!-- aio-ibd-block -->';			$html .= '</div> <!-- aio-icon-box -->';			if($link !== 'none'){				if($read_more == 'box')				{					$href = vc_build_link($link);					if(isset($href['target'])){						$target = 'target="'.$href['target'].'"';					}					$output = $prefix.'<a class="aio-icon-box-link" href="'.$href['url'].'" '.$target.'>'.$html.'</a>'.$suffix;				} else {					$output = $prefix.$html.$suffix;				}			} else {				$output = $prefix.$html.$suffix;			}			return $output;		}		// Function generate param type "number"		function number_settings_field($settings, $value)		{			$dependency = vc_generate_dependencies_attributes($settings);			$param_name = isset($settings['param_name']) ? $settings['param_name'] : '';			$type = isset($settings['type']) ? $settings['type'] : '';			$min = isset($settings['min']) ? $settings['min'] : '';			$max = isset($settings['max']) ? $settings['max'] : '';			$suffix = isset($settings['suffix']) ? $settings['suffix'] : '';			$class = isset($settings['class']) ? $settings['class'] : '';			$output = '<input type="number" min="'.$min.'" max="'.$max.'" class="wpb_vc_param_value ' . $param_name . ' ' . $type . ' ' . $class . '" name="' . $param_name . '" value="'.$value.'" style="max-width:100px; margin-right: 10px;" />'.$suffix;			return $output;		}		/* Add icon box Component*/		function icon_box_init()		{			if ( function_exists('vc_map'))			{				vc_map( 					array(						"name"		=> __("信息框", "smile"),						"base"		=> "bsf-info-box",						"icon"		=> "vc_info_box",						"class"	   => "info_box",						"category"  => __("终极 VC 扩展", "smile"),						"description" => "Adds icon box with custom font icon",						"controls" => "full",						"show_settings_on_create" => true,						"params" => array(							array(								"type" => "dropdown",								"class" => "",								"heading" => __("图标显示:", "smile"),								"param_name" => "icon_type",								"value" => array(									"Font Icon Manager" => "selector",									"Custom Image Icon" => "custom",								),								"description" => __("使用现有的字体图标</a> 或上传自定义图像.", "smile")							),							array(								"type" => "icon_manager",								"class" => "",								"heading" => __("选择图标  ","smile"),								"param_name" => "icon",								"value" => "",								"description" => __("单击并选择您选择的图标.如果你不能找到一个适合你的目的,你可以 <a href='admin.php?page=font-icon-Manager' target='_blank'>add new here</a>.", "smile"),								"dependency" => Array("element" => "icon_type","value" => array("selector")),							),							array(								"type" => "attach_image",								"class" => "",								"heading" => __("上传图片的缩略图:", "smile"),								"param_name" => "icon_img",								"value" => "",								"description" => __("上传自定义图片图标.", "smile"),								"dependency" => Array("element" => "icon_type","value" => array("custom")),							),							array(								"type" => "number",								"class" => "",								"heading" => __("图像宽度 ", "smile"),								"param_name" => "img_width",								"value" => 48,								"min" => 16,								"max" => 512,								"suffix" => "px",								"description" => __("提供图像宽度", "smile"),								"dependency" => Array("element" => "icon_type","value" => array("custom")),							),							array(								"type" => "number",								"class" => "",								"heading" => __("图标的大小", "smile"),								"param_name" => "icon_size",								"value" => 32,								"min" => 12,								"max" => 72,								"suffix" => "px",								"description" => __("你想要多大吗?", "smile"),								"dependency" => Array("element" => "icon_type","value" => array("selector")),							),							array(								"type" => "colorpicker",								"class" => "",								"heading" => __("颜色", "smile"),								"param_name" => "icon_color",								"value" => "#333333",								"description" => __("给它一个好的油漆!", "smile"),								"dependency" => Array("element" => "icon_type","value" => array("selector")),													),							array(								"type" => "dropdown",								"class" => "",								"heading" => __("图标样式", "smile"),								"param_name" => "icon_style",								"value" => array(									"Simple" => "none",									"Circle Background" => "circle",									"Square Background" => "square",									"Design your own" => "advanced",								),								"description" => __("我们有三个快速预定如果你匆忙.否则,创建自己的各种选择.", "smile"),							),							array(								"type" => "colorpicker",								"class" => "",								"heading" => __("背景颜色", "smile"),								"param_name" => "icon_color_bg",								"value" => "#ffffff",								"description" => __("为图标选择背景颜色.", "smile"),									"dependency" => Array("element" => "icon_style", "value" => array("circle","square","advanced")),							),							array(								"type" => "dropdown",								"class" => "",								"heading" => __("图标边框样式", "smile"),								"param_name" => "icon_border_style",								"value" => array(									"None" => "",									"Solid"=> "solid",									"Dashed" => "dashed",									"Dotted" => "dotted",									"Double" => "double",									"Inset" => "inset",									"Outset" => "outset",								),								"description" => __("选择边框样式图标.","smile"),								"dependency" => Array("element" => "icon_style", "value" => array("advanced")),							),							array(								"type" => "colorpicker",								"class" => "",								"heading" => __("边框色彩", "smile"),								"param_name" => "icon_color_border",								"value" => "#333333",								"description" => __("为图标选择边框颜色.", "smile"),									"dependency" => Array("element" => "icon_border_style", "not_empty" => true),							),							array(								"type" => "number",								"class" => "",								"heading" => __("边框宽度", "smile"),								"param_name" => "icon_border_size",								"value" => 1,								"min" => 1,								"max" => 10,								"suffix" => "px",								"description" => __("边界的厚度.", "smile"),								"dependency" => Array("element" => "icon_border_style", "not_empty" => true),							),							array(								"type" => "number",								"class" => "",								"heading" => __("边框半径", "smile"),								"param_name" => "icon_border_radius",								"value" => 500,								"min" => 1,								"max" => 500,								"suffix" => "px",								"description" => __("0像素值将创建一个广场边界.当你增加价值,形状圆内转换缓慢. (例500 像素).", "smile"),								"dependency" => Array("element" => "icon_border_style", "not_empty" => true),							),							array(								"type" => "number",								"class" => "",								"heading" => __("背景的大小", "smile"),								"param_name" => "icon_border_spacing",								"value" => 50,								"min" => 30,								"max" => 500,								"suffix" => "px",								"description" => __("间距从中心图标到边界的边界/背景", "smile"),								"dependency" => Array("element" => "icon_style", "value" => array("advanced")),							),							array(								"type" => "dropdown",								"class" => "",								"heading" => __("动画","smile"),								"param_name" => "icon_animation",								"value" => array(							 		__("没有动画","smile") => "",									__("旋转","smile") => "swing",									__("脉冲","smile") => "pulse",									__("淡入","smile") => "fadeIn",									__("从上淡入","smile") => "fadeInUp",									__("从下淡入","smile") => "fadeInDown",									__("从左淡入","smile") => "fadeInLeft",									__("从右淡入","smile") => "fadeInRight",									__("从上淡入长时间","smile") => "fadeInUpBig",									__("从下淡入长时间","smile") => "fadeInDownBig",									__("从左淡入长时间","smile") => "fadeInLeftBig",									__("从右淡入长时间","smile") => "fadeInRightBig",									__("向下滑动","smile") => "slideInDown",									__("向左滑动","smile") => "slideInLeft",									__("向右滑动","smile") => "slideInLeft",									__("弹跳 ","smile") => "bounceIn",									__("向上弹跳","smile") => "bounceInUp",									__("向下弹跳","smile") => "bounceInDown",									__("向左弹跳","smile") => "bounceInLeft",									__("向右弹跳","smile") => "bounceInRight",									__("旋转","smile") => "rotateIn",									__("光速","smile") => "lightSpeedIn",									__("滚动","smile") => "rollIn",									),								"description" => __("喜欢CSS3动画吗?我们有几个选项!","smile")						  	),							// Icon Box Heading							array(								"type" => "textfield",								"class" => "",								"heading" => __("标题", "smile"),								"param_name" => "title",								"admin_label" => true,								"value" => "",								"description" => __("提供此图标框的标题.", "smile"),							),							// Add some description							array(								"type" => "textarea_html",								"class" => "",								"heading" => __("描述", "smile"),								"param_name" => "content",								"value" => "",								"description" => __("提供描述这个图标框.", "smile")							),							// Select link option - to box or with read more text							array(								"type" => "dropdown",								"class" => "",								"heading" => __("申请链接:", "smile"),								"param_name" => "read_more",								"value" => array(									"No Link" => "none",									"Complete Box" => "box",									"Box Title" => "title",									"Display Read More" => "more",								),								"description" => __("选择是否使用颜色图标.", "smile")							),							// Add link to existing content or to another resource							array(								"type" => "vc_link",								"class" => "",								"heading" => __("添加链接 ", "smile"),								"param_name" => "link",								"value" => "",								"description" => __("添加一个自定义或选择现有的页面的链接.您可以删除现有的链接.", "smile"),								"dependency" => Array("element" => "read_more", "value" => array("box","title","more")),							),							// Link to traditional read more							array(								"type" => "textfield",								"class" => "",								"heading" => __("阅读更多的文本", "smile"),								"param_name" => "read_text",								"value" => "Read More",								"description" => __("自定义文本阅读更多.", "smile"),								"dependency" => Array("element" => "read_more","value" => array("more")),							),							// Hover Effect type							array(								"type" => "dropdown",								"class" => "",								"heading" => __("选择悬停效果类型", "smile"),								"param_name" => "hover_effect",								"value" => array(									"No Effect" => "style_1",									"Icon Zoom" => "style_2",									"Icon Bounce Up" => "style_3",								),								"description" => __("选择你想要的类型的盘旋效果 ", "smile")							),							// Position the icon box							array(								"type" => "dropdown",								"class" => "",								"heading" => __("框架样式 ", "smile"),								"param_name" => "pos",								"value" => array(									"Icon at Left with heading" => "default",									"Icon at Left" => "left",									"Icon at Top" => "top",									"Boxed Style" => "square_box",								),								"description" => __("选择图标的位置.根据图标图标框风格将改变立场.", "smile")							),							array(								"type" => "dropdown",								"class" => "",								"heading" => __("框边框样式", "smile"),								"param_name" => "box_border_style",								"value" => array(									"None" => "",									"Solid"=> "solid",									"Dashed" => "dashed",									"Dotted" => "dotted",									"Double" => "double",									"Inset" => "inset",									"Outset" => "outset",								),								"dependency" => Array("element" => "pos","value" => array("square_box")),								"description" => __("选择边界框的边框样式.", "smile")							),							array(								"type" => "number",								"class" => "",								"heading" => __("框边框宽度", "smile"),								"param_name" => "box_border_width",								"value" => "",								"suffix" =>"",								"dependency" => Array("element" => "pos","value" => array("square_box")),								"description" => __("选择边界框的宽度.", "smile")							),							array(								"type" => "colorpicker",								"class" => "",								"heading" => __("框边框颜色", "smile"),								"param_name" => "box_border_color",								"value" => "",								"dependency" => Array("element" => "pos","value" => array("square_box")),								"description" => __("选择边界框的边框颜色.", "smile")							),								array(								"type" => "colorpicker",								"class" => "",								"heading" => __("框背景颜色", "smile"),								"param_name" => "box_bg_color",								"value" => "",								"dependency" => Array("element" => "pos","value" => array("square_box")),								"description" => __("选择框的背景颜色.", "smile")							),														// Customize everything							array(								"type" => "textfield",								"class" => "",								"heading" => __("额外的类别", "smile"),								"param_name" => "el_class",								"value" => "",								"description" => __("添加额外的类名,将被应用到图标框,你可以使用这个类来定制.", "smile"),							),						) // end params array					) // end vc_map array				); // end vc_map			} // end function check 'vc_map'		}// end function icon_box_init	}//Class end}if(class_exists('AIO_Icons_Box')){	$AIO_Icons_Box = new AIO_Icons_Box;}